<div class="container mt-3">

  <!-- Encabezado -->
  <div class="bg-light border rounded-4 shadow-sm py-3 px-4 mb-4">
    <h2 class="text-center mb-0 fw-bold mt-5">
      <i class="bi bi-book-half me-2 text-primary"></i> Historial de Préstamos
    </h2>
  </div>

  <!-- Buscar -->
  <div class="row mb-3">
    <div class="col-12 col-md-4 mb-2">
      <input 
        type="text" 
        class="form-control" 
        placeholder="Buscar" 
        v-model="busqueda"
      >
    </div>
  </div>

  <!-- Lista de préstamos -->
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle shadow-sm rounded-4 overflow-hidden">
      <thead class="table-primary" align="center">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Usuario</th>
          <th scope="col">Libro</th>
          <th scope="col">Fecha de Entrega</th>
          <th scope="col">Fecha de Devolución</th>
          <th scope="col">Estado</th>
        </tr>
      </thead>
      <tbody align="center">
        <tr v-for="prestamo in prestamosFiltrados" :key="prestamo.prestamo_id">
          <td class="fw-bold">{{ prestamo.prestamo_id }}</td>
          <td>{{ nombreUsuario(prestamo.usuario_id) }}</td>
          <td>{{ nombreLibro(prestamo.libro_id) }}</td>
          <td>{{ formatearFecha(prestamo.fecha_entrega) }}</td>
          <td>
            {{ prestamo.fecha_devolucion ? formatearFecha(prestamo.fecha_devolucion) : '-' }}
          </td>
          <td>
            <span v-if="!prestamo.fecha_devolucion"
                  class="badge bg-warning text-dark rounded-pill px-3 py-2">
              Prestado
            </span>
            <span v-else
                  class="badge bg-success rounded-pill px-3 py-2">
              Finalizado
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
