<div class="container py-5 d-flex justify-content-center align-items-center min-vh-100">
    <div class="card shadow-lg border-0 rounded-4" style="max-width: 420px; width: 100%;">
      <div class="card-body p-4 text-center">

        <!-- Icono -->
        <div class="mb-3">
          <i class="bi bi-shield-lock-fill text-primary" style="font-size: 2.5rem;"></i>
        </div>

        <!-- Título -->
        <h3 class="fw-bold text-dark mb-3">Confirmar Préstamo</h3>
        <p class="text-muted">Ingrese el código de <strong>6 dígitos</strong> para el préstamo:</p>

        <!-- Input -->
        <input 
          type="text" 
          v-model="codigo" 
          maxlength="6" 
          class="form-control form-control-lg text-center rounded-3 shadow-sm tracking-widest mb-3"
          placeholder="• • • • • •"
        >

        <!-- Botón -->
        <button 
          class="btn btn-primary btn-lg w-100 rounded-3 fw-semibold shadow-sm"
          @click="confirmarPrestamo"
          :disabled="loading"
        >
          Confirmar
        </button>
      </div>
    </div>

    <!-- Overlay de estados -->
    <div 
      v-if="estadoOverlay"
      class="position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center"
      style="background: rgba(0,0,0,0.5); z-index: 2000;"
    >
      <div class="bg-white rounded-4 shadow-lg p-5 text-center">
        <div v-if="estadoOverlay === 'loading'">
          <div class="spinner-border text-primary mb-3" style="width: 3rem; height: 3rem;" role="status"></div>
          <p class="fw-semibold text-dark m-0">Confirmando préstamo...</p>
        </div>

        <div v-else-if="estadoOverlay === 'success'">
          <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
          <p class="fw-semibold text-success m-0 mt-2">¡Préstamo confirmado!</p>
        </div>
      </div>
    </div>

    <!-- Modal de Error -->
    <div 
      class="modal fade" 
      id="errorModal" 
      tabindex="-1" 
      aria-hidden="true" 
      ref="errorModal"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 rounded-4 shadow-lg text-center p-4">
          
          <!-- Icono grande -->
          <div class="mb-3">
            <i class="bi bi-x-circle-fill text-danger" style="font-size: 3.5rem;"></i>
          </div>

          <!-- Mensaje -->
          <h5 class="fw-bold text-danger mb-2">¡Ups, ocurrió un error!</h5>
          <p class="text-muted mb-4">{{ mensaje }}</p>

          <!-- Botón -->
          <button 
            type="button" 
            class="btn btn-danger rounded-3 px-4 fw-semibold shadow-sm"
            data-bs-dismiss="modal"
          >
            <i class="bi bi-x-lg me-1"></i> Cerrar
          </button>
        </div>
      </div>
    </div>
</div>